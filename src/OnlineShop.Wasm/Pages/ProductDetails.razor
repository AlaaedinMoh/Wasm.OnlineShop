@page "/ProductDetails/{ProductId:int}"

@if (product is null && ErrorMessage is null)
{
    <Spinner></Spinner>
}
else if (ErrorMessage is not null)
{
    <DisplayError ErrorMessage="@ErrorMessage"></DisplayError>
}
else
{
    <h3 class="mb-5">Product Details</h3>
    <div class="row">
        <div class="col-md-6 mb-4">
            <img class="img-fluid" src="@product.ImageUrl">
        </div>
        <div class="col-md-6">
            <h3>@product.Name</h3>
            <p class="mb-4">@product.Description</p>
            <p class="mb-4">
                <b>
                    @product.Price.ToString("C")&nbsp;(@product.Quantity items in stock)
                </b>
            </p>
            <button class="btn btn-success" role="button"
                @onclick="()=>(AddToCartClick(new CartItemToAddDto{
                    CartId = 1,
                    Quantity = 1,
                    ProductId = product.Id
                }))">
                Add to Cart
            </button>
        </div>
    </div>
}